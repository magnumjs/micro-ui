/*!
 * @magnumjs/micro-ui v1.7.0
 * Author: Michael Glazer
 * Website: https://github.com/magnumjs/micro-ui#readme
 */
var MicroUIContext=(()=>{var i=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var h=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},w=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of S(t))!g.call(e,s)&&s!==r&&i(e,s,{get:()=>t[s],enumerable:!(n=d(t,s))||n.enumerable});return e};var A=e=>w(i({},"__esModule",{value:!0}),e);var $={};h($,{context:()=>u,createChannelMap:()=>f,createState:()=>l,shared:()=>p});function f(){let e=new Map;return{subscribe(t,r){e.has(t)||e.set(t,new Set);let n=e.get(t);return n.add(r),()=>n.delete(r)},emit(t,r){let n=e.get(t);if(n)for(let s of n)s(r)},clear(){e.clear()}}}function l(e){let t=e,r=new Set;function n(o){typeof t=="object"&&t!==null&&typeof o=="object"&&o!==null&&!Array.isArray(t)&&!Array.isArray(o)?t={...t,...o}:t=typeof o=="function"?o(t):o,r.forEach(b=>b(t))}function s(o){return r.add(o),o(t),()=>r.delete(o)}function c(){return t}return{get:c,setState:n,getState:c,subscribe:s}}var u=f(),a=new Map;function p(e,t={}){if(!a.has(e)){let r=l(t),n={...r,emit(s,c){r.setState(c),u.emit(`${e}::${s}`,r.getState())},on(s,c){return u.subscribe(`${e}::${s}`,c)}};a.set(e,n)}return a.get(e)}p.clear=()=>a.clear();return A($);})();
//# sourceMappingURL=magnumjs-micro-ui-context.js.map
