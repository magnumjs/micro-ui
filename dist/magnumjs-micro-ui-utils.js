/*!
 * @magnumjs/micro-ui v1.10.1
 * Author: Michael Glazer
 * Website: https://github.com/magnumjs/micro-ui#readme
 */
var MicroUIUtils=(()=>{var u=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var y=(e,t)=>{for(var r in t)u(e,r,{get:t[r],enumerable:!0})},h=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of g(t))!S.call(e,o)&&o!==r&&u(e,o,{get:()=>t[o],enumerable:!(n=d(t,o))||n.enumerable});return e};var $=e=>h(u({},"__esModule",{value:!0}),e);var w={};y(w,{context:()=>i,createChannelMap:()=>f,createState:()=>p,renderList:()=>A,shared:()=>l});function f(){let e=new Map;return{subscribe(t,r){e.has(t)||e.set(t,new Set);let n=e.get(t);return n.add(r),()=>n.delete(r)},emit(t,r){let n=e.get(t);if(n)for(let o of n)o(r)},clear(){e.clear()}}}function p(e){let t=e,r=new Set;function n(s){typeof t=="object"&&t!==null&&typeof s=="object"&&s!==null&&!Array.isArray(t)&&!Array.isArray(s)?t={...t,...s}:t=typeof s=="function"?s(t):s,r.forEach(b=>b(t))}function o(s){return r.add(s),s(t),()=>r.delete(s)}function c(){return t}return{get:c,setState:n,getState:c,subscribe:o}}var i=f(),a=new Map;function l(e,t={}){if(!a.has(e)){let r=p(t),n={...r,emit(o,c){r.setState(c),i.emit(`${e}::${o}`,r.getState())},on(o,c){return i.subscribe(`${e}::${o}`,c)}};a.set(e,n)}return a.get(e)}l.clear=()=>a.clear();function A(e,t,r=n=>n.id??n.key??n){return e.map((n,o)=>{let c=r(n,o),s=t(n,o);return typeof s=="string"?s.replace(/^<([a-zA-Z0-9-]+)/,`<$1 data-key="${String(c).replace(/"/g,"&quot;")}"`):s}).join("")}return $(w);})();
//# sourceMappingURL=magnumjs-micro-ui-utils.js.map
