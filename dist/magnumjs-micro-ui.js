/*!
 * @magnumjs/micro-ui v1.0.3
 * Author: Michael Glazer
 * Website: https://github.com/magnumjs/micro-ui#readme
 */
var MicroUI=(()=>{var g=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var w=(o,t)=>{for(var i in t)g(o,i,{get:t[i],enumerable:!0})},C=(o,t,i,c)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of T(t))!k.call(o,e)&&e!==i&&g(o,e,{get:()=>t[e],enumerable:!(c=M(t,e))||c.enumerable});return o};var H=o=>C(g({},"__esModule",{value:!0}),o);var _={};w(_,{createComponent:()=>$,createState:()=>S,renderList:()=>j});function S(o){let t=o,i=new Set;function c(n){t=typeof n=="function"?n(t):{...t,...n},i.forEach(h=>h(t))}function e(n){return i.add(n),n(t),()=>i.delete(n)}function l(){return t}return{get:l,setState:c,subscribe:e}}function $(o,{onMount:t,onDestroy:i,events:c={}}={}){let e=null,l=!1,n={},h="",f={mount(r){l||(e=r,l=!0,b(n),t?.call(f))},mountTo(r){let a=document.querySelector(r);if(!a)throw new Error(`No element matches selector: ${r}`);f.mount(a)},update(r={}){if(!l)return;Object.keys(r).some(s=>r[s]!==n[s])&&(n={...n,...r},b(n))},render(r={}){return n={...n,...r},typeof o=="function"?o(n):o},get renderFn(){return o},destroy(){!l||!e||(i?.call(f),e.innerHTML="",l=!1)},get el(){return e},get props(){return n}};function b(r){n=r;let a=f.render(n),s=v(a);E(s)}function v(r){if(!e)return!1;let a=document.createElement("div");a.innerHTML=r;let s=Array.from(a.children),p=Array.from(e.children),y=s.map(u=>u.dataset.key),m=new Map(p.map(u=>[u.dataset.key,u]));e.innerHTML="";for(let u of s){let d=u.dataset.key;if(d&&m.has(d)){let L=m.get(d);L.innerHTML=u.innerHTML,e.appendChild(L)}else e.appendChild(u)}return!0}function E(){if(!e||!c)return;let r=e.firstElementChild;r&&Object.entries(c).forEach(([a,s])=>{let[p,y]=a.split(" ");if(!p)return;s._bound&&r.removeEventListener(p,s._bound);let m=u=>{let d=y?u.target.closest(y):u.target;d&&r.contains(d)&&(console.log(`[reactive-core] Event triggered: ${p} on`,d),s.call(f,u))};s._bound=m,r.addEventListener(p,m)})}return f}function j(o,t,i=c=>c.id??c.key??c){return o.map((c,e)=>`<div data-key="${i(c,e)}">${t(c,e)}</div>`).join("")}return H(_);})();
//# sourceMappingURL=magnumjs-micro-ui.js.map
