/*!
 * @magnumjs/micro-ui v1.0.4
 * Author: Michael Glazer
 * Website: https://github.com/magnumjs/micro-ui#readme
 */
var MicroUI=(()=>{var h=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var w=(c,t)=>{for(var s in t)h(c,s,{get:t[s],enumerable:!0})},C=(c,t,s,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of T(t))!k.call(c,e)&&e!==s&&h(c,e,{get:()=>t[e],enumerable:!(i=M(t,e))||i.enumerable});return c};var H=c=>C(h({},"__esModule",{value:!0}),c);var _={};w(_,{createComponent:()=>$,createState:()=>S,renderList:()=>j});function S(c){let t=c,s=new Set;function i(n){t=typeof n=="function"?n(t):{...t,...n},s.forEach(y=>y(t))}function e(n){return s.add(n),n(t),()=>s.delete(n)}function a(){return t}return{get:a,setState:i,subscribe:e}}function $(c,{onMount:t,onDestroy:s,events:i={}}={}){let e=null,a=!1,n={},y="",f={mount(r){a||(e=r,a=!0,b(n),t?.call(f))},mountTo(r){let o=document.querySelector(r);if(!o)throw new Error(`No element matches selector: ${r}`);f.mount(o)},update(r={}){if(!a)return;Object.keys(r).some(l=>r[l]!==n[l])&&(n={...n,...r},b(n))},render(r={}){n={...n,...r};let o=typeof c=="function"?c(n):c;return typeof o=="string"&&o.includes("<slot></slot>")&&(o=o.replace("<slot></slot>",n.children??"")),o===y?null:o},get renderFn(){return c},destroy(){!a||!e||(s?.call(f),e.innerHTML="",a=!1)},get el(){return e},get props(){return n}};function b(r){n=r;let o=f.render(n);if(o===null)return;let l=v(o);E(l)}function v(r){if(!e)return!1;let o=document.createElement("div");o.innerHTML=r;let l=Array.from(o.children),p=Array.from(e.children),g=l.map(u=>u.dataset.key),m=new Map(p.map(u=>[u.dataset.key,u]));e.innerHTML="";for(let u of l){let d=u.dataset.key;if(d&&m.has(d)){let L=m.get(d);L.innerHTML=u.innerHTML,e.appendChild(L)}else e.appendChild(u)}return!0}function E(){if(!e||!i)return;let r=e.firstElementChild;r&&Object.entries(i).forEach(([o,l])=>{let[p,g]=o.split(" ");if(!p)return;l._bound&&r.removeEventListener(p,l._bound);let m=u=>{let d=g?u.target.closest(g):u.target;d&&r.contains(d)&&(console.log(`[reactive-core] Event triggered: ${p} on`,d),l.call(f,u))};l._bound=m,r.addEventListener(p,m)})}return f}function j(c,t,s=i=>i.id??i.key??i){return c.map((i,e)=>`<div data-key="${s(i,e)}">${t(i,e)}</div>`).join("")}return H(_);})();
//# sourceMappingURL=magnumjs-micro-ui.js.map
