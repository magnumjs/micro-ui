/*!
 * @magnumjs/micro-ui v1.0.9
 * Author: Michael Glazer
 * Website: https://github.com/magnumjs/micro-ui#readme
 */
var MicroUI=(()=>{var g=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var E=(t,n)=>{for(var f in n)g(t,f,{get:n[f],enumerable:!0})},H=(t,n,f,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of k(n))!w.call(t,r)&&r!==f&&g(t,r,{get:()=>n[r],enumerable:!(o=T(n,r))||o.enumerable});return t};var j=t=>H(g({},"__esModule",{value:!0}),t);var _={};E(_,{createComponent:()=>C,createState:()=>S,renderList:()=>O});function m(t,n={}){return typeof t=="string"&&(t=t.replace(/<slot(?:\s+name="([^"]+)")?>([\s\S]*?)<\/slot>/gs,(f,o,r)=>{let{children:i,slots:e}=n;return o?typeof i=="object"&&i?.[o]!=null?i[o]:typeof e=="object"&&e?.[o]!=null?e[o]:r:typeof i=="object"&&i?.default!=null?i.default:typeof e=="object"&&e?.default!=null?e.default:typeof i=="string"?i:r})),t||""}function v(t,n){if(!t)return!1;let f=document.createElement("div");f.innerHTML=n;let o=Array.from(f.children),r=Array.from(t.children),i=new Map,e=new Map;for(let s of o){let u=s.dataset.key;u&&i.set(u,s)}for(let s of r){let u=s.dataset.key;u&&e.set(u,s)}let d=0;for(let s of o){let u=s.dataset.key;if(u&&e.has(u)){let p=e.get(u);p.innerHTML!==s.innerHTML&&(p.innerHTML=s.innerHTML);let c=t.children[d];c!==p&&t.insertBefore(p,c||null),e.delete(u)}else{let p=t.children[d];t.insertBefore(s,p||null)}d++}for(let s of e.values())s.remove();for(;t.children.length>o.length;)t.lastChild.remove();return!0}function S(t){let n=t,f=new Set;function o(e){n=typeof e=="function"?e(n):{...n,...e},f.forEach(d=>d(n))}function r(e){return f.add(e),e(n),()=>f.delete(e)}function i(){return n}return{get:i,setState:o,getState:i,subscribe:r}}function C(t,{onMount:n,onDestroy:f,events:o={}}={}){let r=null,i=!1,e={},d="",s={refs:{},mount(c){i||(r=c,i=!0,u(e),n?.call(s))},mountTo(c){let l=document.querySelector(c);if(!l)throw new Error(`No element matches selector: ${c}`);s.mount(l)},update(c={}){if(!i)return;Object.keys(c).some(a=>c[a]!==e[a])&&(e={...e,...c},s.props=e,u(e))},render(c={}){e={...e,...c},s.props=e;let l=typeof t=="function"?t(e):t;return l=m(l,e),l===d?null:l},get renderFn(){return t},destroy(){!i||!r||(f?.call(s),r.innerHTML="",i=!1)},get el(){return r}};function u(c){e=c;let l=s.render(e);if(l===null)return;let a=v(r,l);s.refs={},r&&r.querySelectorAll("[data-ref]").forEach(y=>{s.refs[y.dataset.ref]=y}),p(a)}function p(){if(!r||!o)return;let c=r.firstElementChild;c&&Object.entries(o).forEach(([l,a])=>{let[y,b]=l.split(" ");if(!y)return;a._bound&&c.removeEventListener(y,a._bound);let L=h=>{let M=b?h.target.closest(b):h.target;M&&c.contains(M)&&a.call(s,h)};a._bound=L,c.addEventListener(y,L)})}return s}function O(t,n,f=o=>o.id??o.key??o){return t.map((o,r)=>{let i=f(o,r),e=n(o,r);return typeof e=="string"&&!e.trim().startsWith("<div")?`<div data-key="${i}">${e}</div>`:e.replace(/^<div/,`<div data-key="${i}"`)}).join("")}return j(_);})();
//# sourceMappingURL=magnumjs-micro-ui.js.map
