/*!
 * @magnumjs/micro-ui v1.0.2
 * Author: Michael Glazer
 * Website: https://github.com/magnumjs/micro-ui#readme
 */
(()=>{function E(u){let i=u,l=new Set;function c(e){i=typeof e=="function"?e(i):{...i,...e},l.forEach(g=>g(i))}function n(e){return l.add(e),e(i),()=>l.delete(e)}function a(){return i}return{get:a,setState:c,subscribe:n}}function M(u,{onMount:i,onDestroy:l,events:c={}}={}){let n=null,a=!1,e={},g="",f={mount(t){a||(n=t,a=!0,h(e),i?.call(f))},mountTo(t){let s=document.querySelector(t);if(!s)throw new Error(`No element matches selector: ${t}`);f.mount(s)},update(t={}){if(!a)return;Object.keys(t).some(r=>t[r]!==e[r])&&(e={...e,...t},h(e))},render(t={}){return e={...e,...t},typeof u=="function"?u(e):u},get renderFn(){return u},destroy(){!a||!n||(l?.call(f),n.innerHTML="",a=!1)},get el(){return n},get props(){return e}};function h(t){e=t;let s=f.render(e),r=L(s);v(r)}function L(t){if(!n)return!1;let s=document.createElement("div");s.innerHTML=t;let r=Array.from(s.children),p=Array.from(n.children),y=r.map(o=>o.dataset.key),m=new Map(p.map(o=>[o.dataset.key,o]));n.innerHTML="";for(let o of r){let d=o.dataset.key;if(d&&m.has(d)){let b=m.get(d);b.innerHTML=o.innerHTML,n.appendChild(b)}else n.appendChild(o)}return!0}function v(){if(!n||!c)return;let t=n.firstElementChild;t&&Object.entries(c).forEach(([s,r])=>{let[p,y]=s.split(" ");if(!p)return;r._bound&&t.removeEventListener(p,r._bound);let m=o=>{let d=y?o.target.closest(y):o.target;d&&t.contains(d)&&(console.log(`[reactive-core] Event triggered: ${p} on`,d),r.call(f,o))};r._bound=m,t.addEventListener(p,m)})}return f}function T(u,i,l=c=>c.id??c.key??c){return u.map((c,n)=>`<div data-key="${l(c,n)}">${i(c,n)}</div>`).join("")}})();
//# sourceMappingURL=magnumjs-micro-ui.js.map
